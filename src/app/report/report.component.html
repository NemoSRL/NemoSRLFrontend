<div class="main-container">
	<h2>Reports</h2>

	<app-add-report (reportModifed)="onReportModified()"></app-add-report>
	<div class="input-group">
		<button class="btn btn-primary marR2" (click)="getReportsBy()">Cerca</button>
		<input #inputValore [(ngModel)]="textSearch" class="marR2">
		<select #selectAttributo class="marR2" name="attributeSearch" id="attributeSearch" [(ngModel)]="attributeSearch">
			<option value="" style="display: none;" selected="selected">Attributo</option>
			<option [ngValue]="'id'">Codice</option>
			<option [ngValue]="'etichetta'">Etichetta</option>
			<option [ngValue]="'data'">Data</option>
			<option [ngValue]="'dettagli'">Dettagli</option>
			<option [ngValue]="'cf_personale'">Personale</option>

		</select>
		<button class="btn btn-primary marR2" (click)="resetButton()">Reset</button>
	</div>
	<hr />
	<table class="table table-striped">
		<thead>
			<tr>
				<th scope="col" class="cliccabile" sortable="np" (sort)="onSort($event)">NP</th>
				<th scope="col"  [width]="10">Dettagli/Modifica</th>
				<th scope="col" class="cliccabile" sortable="etichetta" (sort)="onSort($event)">Etichetta</th>
				<th scope="col" class="cliccabile"sortable="data" (sort)="onSort($event)">Data</th>
				<th scope="col" class="cliccabile" sortable="dettagli" (sort)="onSort($event)">Dettagli</th>
				<th scope="col" class="cliccabile" sortable="personale" (sort)="onSort($event)">Personale</th>
				<th scope="col" class="cliccabile" sortable="tipo"(sort)="onSort($event)">Spostamento</th>
				<th scope="col" class="cliccabile" sortable="spostato"(sort)="onSort($event)" >Spostato</th>
			</tr>
		</thead>
		<tbody>
			@for (report of reports; track report.np) {
				


			<tr>
				<th scope="row">{{ report.np| number}}</th>
				<td> <button class="btn btn-lg btn-outline-primary" (click)="premuto(report, 'edit')"><svg xmlns="http://www.w3.org/2000/svg"
					width="16" height="16" fill="currentColor" class="bi bi-pen" viewBox="0 0 16 16">
					<path
						d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001m-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708z">
					</path>
				</svg> </button></td>
				<!-- <td><app-edit-report [report]="report" (reportModifed)="onReportModified()"></app-edit-report></td> !-->
				<td>
					<button class="btn btn-lg btn-outline-primary button-as-text" (click)="premuto(report.etichetta , 'label')">
						{{report.etichetta}}
					</button>
					<!-- <app-detail-label [etichettaId]="report.etichetta"></app-detail-label> !-->
				</td>
				<td>{{ report.data | date: 'dd/MM/yyyy'}}</td>
				<td>{{ report.dettagli }}</td>
				<td> <button class="btn btn-lg btn-outline-primary button-as-text" (click)="premuto(report.personale , 'personale')">
					{{report.personale}}
				</button> </td>
				
				<!-- <td><app-detail-personale [personaleId]="report.personale"></app-detail-personale></td> !-->
				<td>{{ report.tipo}} </td>
				<td> {{report.spostato}}</td>
			</tr>

			}
		</tbody>
	</table>
<app-detail-personale ></app-detail-personale>
<app-detail-label></app-detail-label>
<app-edit-report></app-edit-report>
</div>